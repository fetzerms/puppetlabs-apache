<% if type($requires, 'generalized') == String { -%>
  <%- if !($requires.downcase in ['', 'unmanaged']) { -%>
    Require <%= $requires %>
  <%- } -%>
<% }elsif String(type($requires, 'generalized')).index('Array') == 0 { -%>
  <%- $requires.each |$req| { -%>
    Require <%= $req %>
  <%- } -%>
<% }elsif String(type($requires, 'generalized')).index('Hash') == 0 { -%>
  <%- if $requires['enforce'] and $requires['enforce'].downcase in ['all', 'none', 'any'] { -%>
    <%- $enforce_str = "Require${requires['enforce'].capitalize}>\n" -%>
    <%- $enforce_open = "    <${enforce_str}" -%>
    <%- $enforce_close = "    </${enforce_str}" -%>
    <%- $indentation = '    ' -%>
  <%- } else { -%>
    <%- if $requires['enforce'] { -%>
      <%- scope.function_warning(["Class #{@title}: Require can only be overwritten with all, none or any."]) -%>
    <%- } -%>
    <%- $enforce_open = '' -%>
    <%- $enforce_close = '' -%>
    <%- $indentation = '' -%>
  <%- } -%>
  <%- if $requires['requires'] and String(type($requires['requires'], 'generalized')).index('Array') == 0 { -%>
<%# %><%= $enforce_open -%>
      <%- $requires['requires'].each |$req| { -%>
<%# %>    <%= $indentation -%>Require <%= $req %>
      <%- } -%>
<%# %><%= $enforce_close -%>
  <%- } else { -%>
    <%- scope.function_warning(["Class #{@title}: Require hash must have a key named \"requires\" with array value"]) -%>
  <%- } -%>
<% } -%>
